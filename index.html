<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cnvs.zip</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="foundations.css">
</head>
<body>
    <canvas id="canvas"></canvas>
    <p style="color: white; text-align: center;">Press ESC to disable the blackhole effect</p>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        resizeCanvas(); // Call on load to set initial size

        window.addEventListener('resize', resizeCanvas); // Update size on window resize

        let mouse = { x: canvas.width / 2, y: canvas.height / 2 };
        let blackholeActive = true;
        let cursors = [];

        window.addEventListener('mousemove', (e) => {
            mouse.x = e.clientX;
            mouse.y = e.clientY;
        });

        window.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                blackholeActive = !blackholeActive;
            }
        });

        setInterval(() => {
            if (blackholeActive) {
                cursors.push({ x: mouse.x, y: mouse.y });
            }
        }, 1000 / 24);

        function drawCursor(x, y) {
            ctx.beginPath();
            ctx.moveTo(x, y);
            ctx.lineTo(x + 10, y + 15);
            ctx.lineTo(x + 7, y + 15);
            ctx.lineTo(x + 3, y + 11);
            ctx.lineTo(x + 3, y + 3);
            ctx.fillStyle = 'white';
            ctx.fill();
            ctx.stroke();
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            let centerX = canvas.width / 2;
            let centerY = canvas.height / 2;

            if (blackholeActive) {
                cursors.forEach((cursor, index) => {
                    let directionX = (centerX - cursor.x) * 0.05;
                    let directionY = (centerY - cursor.y) * 0.05;
                    cursor.x += directionX;
                    cursor.y += directionY;
                    drawCursor(cursor.x, cursor.y);
                });
            } else {
                drawCursor(mouse.x, mouse.y);
            }

            ctx.beginPath();
            ctx.arc(centerX, centerY, 20, 0, 2 * Math.PI);
            ctx.fillStyle = 'white';
            ctx.fill();

            requestAnimationFrame(draw);
        }

        draw();
    </script>
</body>
</html>